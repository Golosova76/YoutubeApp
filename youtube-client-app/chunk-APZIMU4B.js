import{a as E,b as _,c as B}from"./chunk-TCG4PF3O.js";import{c as C,d as P,e as j,g as O,i as D,k as $,l as k,m as q,n as G}from"./chunk-QSIMU3VX.js";import{Aa as F,H as L,Ja as m,N as f,T as h,U as x,_a as M,ab as N,e as S,ja as s,ka as v,mb as T,nb as w,ob as b,qa as g,sa as a,ua as i,va as l,wa as c,za as I}from"./chunk-TJ4IWNL2.js";function U(t,e){t&1&&(i(0,"p"),m(1,"Please enter a login email"),l())}function Y(t,e){t&1&&(i(0,"p"),m(1,"The login email is invalid"),l())}function H(t,e){if(t&1&&(i(0,"div"),g(1,U,2,0,"p",6)(2,Y,2,0,"p",6),l()),t&2){let p,n,o=F();s(),a("ngIf",(p=o.loginForm.get("username"))==null||p.errors==null?null:p.errors.required),s(),a("ngIf",(n=o.loginForm.get("username"))==null||n.errors==null?null:n.errors.email)}}function J(t,e){t&1&&(i(0,"p"),m(1,"Please enter a password"),l())}function K(t,e){t&1&&(i(0,"p"),m(1,"Your password isn't strong enough. It must contain at least 8 characters, a mixture of uppercase and lowercase letters, letters and numbers, and include special characters such as ! @ # ? ]"),l())}function Q(t,e){if(t&1&&(i(0,"div"),g(1,J,2,0,"p",6)(2,K,2,0,"p",6),l()),t&2){let p,n,o=F();s(),a("ngIf",(p=o.loginForm.get("password"))==null||p.errors==null?null:p.errors.required),s(),a("ngIf",(n=o.loginForm.get("password"))==null||n.errors==null?null:n.errors.passwordStrength)}}var R=(()=>{let e=class e{constructor(n,o,r){this.loginService=n,this.router=o,this.fb=r,this.isLoggedIn=!1,this.unsubscribe$=new S}ngOnInit(){this.loginForm=this.fb.group({username:["",[C.required,C.email]],password:["",[C.required,B]]}),this.loginService.isLoggedIn$.pipe(L(this.unsubscribe$)).subscribe(n=>{this.isLoggedIn=n})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onLogin(){if(this.loginForm.valid){let{username:n,password:o}=this.loginForm.value;this.loginService.login(n,o)?this.router.navigate(["youtube"]):alert("Login failed!")}else this.loginForm.markAllAsTouched(),console.log("Form is invalid")}onLogout(){this.loginService.logout()}};e.\u0275fac=function(o){return new(o||e)(v(E),v(T),v(k))},e.\u0275cmp=h({type:e,selectors:[["app-login-form"]],decls:15,vars:3,consts:[[1,"form-login-container"],["action","#","method","post","autocomplete","on",1,"form-login",3,"ngSubmit","formGroup"],[1,"login-container"],[1,"login-title"],["for","username",1,"login-label"],["formControlName","username","type","text","inputClass","login-input","id","username","name","username","placeholder","Login"],[4,"ngIf"],["for","password",1,"login-label"],["formControlName","password","type","password","inputClass","password-input","id","password","name","password","placeholder","********"],["type","submit","buttonClass","button-login-submit"]],template:function(o,r){if(o&1&&(i(0,"div",0)(1,"form",1),I("ngSubmit",function(){return r.onLogin()}),i(2,"div",2)(3,"h1",3),m(4,"Login"),l(),i(5,"label",4),m(6,"login"),l(),c(7,"app-input",5),g(8,H,3,2,"div",6),i(9,"label",7),m(10,"password"),l(),c(11,"app-input",8),g(12,Q,3,2,"div",6),i(13,"app-custom-button",9),m(14," Login "),l()()()()),o&2){let u,d;s(),a("formGroup",r.loginForm),s(7),a("ngIf",((u=r.loginForm.get("username"))==null?null:u.invalid)&&(((u=r.loginForm.get("username"))==null?null:u.touched)||((u=r.loginForm.get("username"))==null?null:u.dirty))),s(4),a("ngIf",((d=r.loginForm.get("password"))==null?null:d.invalid)&&(((d=r.loginForm.get("password"))==null?null:d.touched)||((d=r.loginForm.get("password"))==null?null:d.dirty)))}},dependencies:[M,_,b,O,P,j,D,$],styles:['@charset "UTF-8";.form-login-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.form-login[_ngcontent-%COMP%]{border-radius:10px;background-color:#fff;outline:#fff double 5px;box-shadow:0 3px 10px 4px #e3d8d866,0 4px 15px 6px #00000080,0 5px 20px 10px #78727299;padding:2vw;max-width:28rem;margin:0 auto;transition:width .5s ease}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;background-color:#fff;width:100%;padding:1.2rem 2.5rem 2.5rem;border-radius:8px;box-shadow:2px 4px 6px #0003}.login-title[_ngcontent-%COMP%]{font-weight:800;font-size:20px}.login-title[_ngcontent-%COMP%]:not(:last-child){margin-bottom:21px}.login-label[_ngcontent-%COMP%]{color:#00000080;font-size:16px;font-family:Roboto,sans-serif}']});let t=e;return t})();var V=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-login-page"]],decls:1,vars:0,template:function(o,r){o&1&&c(0,"app-login-form")},dependencies:[R]});let t=e;return t})();var X=[{path:"",component:V}],z=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=f({imports:[w.forChild(X),w]});let t=e;return t})();var be=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=f({imports:[N,z,_,b,q,G]});let t=e;return t})();export{be as AuthModule};

import{a as T,b as _}from"./chunk-4VY54QA3.js";import{Aa as N,Ba as b,Ea as C,F as p,Fa as E,G as x,Ga as P,Ia as j,K as c,Ka as O,M as d,Ma as D,N as r,Na as V,O as l,Oa as q,P as g,Pa as G,Qa as w,S as L,T as F,aa as a,c as S,na as I,p as f,pa as M,s as h,t as v}from"./chunk-J3RX4IIR.js";function Y(t,e){t&1&&(r(0,"p"),a(1,"Please enter a login email"),l())}function Z(t,e){t&1&&(r(0,"p"),a(1,"The login email is invalid"),l())}function $(t,e){if(t&1&&(r(0,"div"),c(1,Y,2,0,"p",6)(2,Z,2,0,"p",6),l()),t&2){let u,n,o=F();p(),d("ngIf",(u=o.loginForm.get("username"))==null||u.errors==null?null:u.errors.required),p(),d("ngIf",(n=o.loginForm.get("username"))==null||n.errors==null?null:n.errors.email)}}function A(t,e){t&1&&(r(0,"p"),a(1,"Please enter a password"),l())}function H(t,e){t&1&&(r(0,"p"),a(1,"Your password isn't strong enough. It must contain at least 8 characters, a mixture of uppercase and lowercase letters, letters and numbers, and include special characters such as ! @ # ? ]"),l())}function J(t,e){if(t&1&&(r(0,"div"),c(1,A,2,0,"p",6)(2,H,2,0,"p",6),l()),t&2){let u,n,o=F();p(),d("ngIf",(u=o.loginForm.get("password"))==null||u.errors==null?null:u.errors.required),p(),d("ngIf",(n=o.loginForm.get("password"))==null||n.errors==null?null:n.errors.passwordStrength)}}var k=(()=>{let e=class e{constructor(n,o,i){this.loginService=n,this.router=o,this.fb=i,this.isLoggedIn=!1,this.subscription=new S}ngOnInit(){this.loginForm=this.fb.group({username:["",[C.required,C.email]],password:["",[C.required,this.passwordStrengthValidator]]}),this.subscription.add(this.loginService.isLoggedIn$.subscribe(n=>{this.isLoggedIn=n}))}ngOnDestroy(){this.subscription.unsubscribe()}passwordStrengthValidator(n){let o=n.value||"",i=/[A-Z]/.test(o),s=/[a-z]/.test(o),m=/\d/.test(o),R=/[!@#?\]]/.test(o),U=o.length>=8;return i&&s&&m&&R&&U?null:{passwordStrength:!0}}onLogin(){if(this.loginForm.valid){let{username:n,password:o}=this.loginForm.value;this.loginService.login(n,o)?this.router.navigate(["youtube"]):alert("Login failed!")}else this.loginForm.markAllAsTouched(),console.log("Form is invalid")}onLogout(){this.loginService.logout()}};e.\u0275fac=function(o){return new(o||e)(x(T),x(N),x(V))},e.\u0275cmp=h({type:e,selectors:[["app-login-form"]],decls:15,vars:3,consts:[[1,"form-login-container"],["action","#","method","post","autocomplete","on",1,"form-login",3,"ngSubmit","formGroup"],[1,"login-container"],[1,"login-title"],["for","username",1,"login-label"],["formControlName","username","type","text","inputClass","login-input","id","username","name","username","placeholder","Login"],[4,"ngIf"],["for","password",1,"login-label"],["formControlName","password","type","password","inputClass","password-input","id","password","name","password","placeholder","********"],["type","submit","buttonClass","button-login-submit"]],template:function(o,i){if(o&1&&(r(0,"div",0)(1,"form",1),L("ngSubmit",function(){return i.onLogin()}),r(2,"div",2)(3,"h1",3),a(4,"Login"),l(),r(5,"label",4),a(6,"login"),l(),g(7,"app-input",5),c(8,$,3,2,"div",6),r(9,"label",7),a(10,"password"),l(),g(11,"app-input",8),c(12,J,3,2,"div",6),r(13,"app-custom-button",9),a(14," Login "),l()()()()),o&2){let s,m;p(),d("formGroup",i.loginForm),p(7),d("ngIf",((s=i.loginForm.get("username"))==null?null:s.invalid)&&(((s=i.loginForm.get("username"))==null?null:s.touched)||((s=i.loginForm.get("username"))==null?null:s.dirty))),p(4),d("ngIf",((m=i.loginForm.get("password"))==null?null:m.invalid)&&(((m=i.loginForm.get("password"))==null?null:m.touched)||((m=i.loginForm.get("password"))==null?null:m.dirty)))}},dependencies:[I,_,w,j,E,P,O,D],styles:['@charset "UTF-8";.form-login-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.form-login[_ngcontent-%COMP%]{border-radius:10px;background-color:#fff;outline:#fff double 5px;box-shadow:0 3px 10px 4px #e3d8d866,0 4px 15px 6px #00000080,0 5px 20px 10px #78727299;padding:2vw;max-width:28rem;margin:0 auto;transition:width .5s ease}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;background-color:#fff;width:100%;padding:1.2rem 2.5rem 2.5rem;border-radius:8px;box-shadow:2px 4px 6px #0003}.login-title[_ngcontent-%COMP%]{font-weight:800;font-size:20px}.login-title[_ngcontent-%COMP%]:not(:last-child){margin-bottom:21px}.login-label[_ngcontent-%COMP%]{color:#00000080;font-size:16px;font-family:Roboto,sans-serif}']});let t=e;return t})();var z=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-login-page"]],decls:1,vars:0,template:function(o,i){o&1&&g(0,"app-login-form")},dependencies:[k]});let t=e;return t})();var Q=[{path:"",component:z}],B=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=v({type:e}),e.\u0275inj=f({imports:[b.forChild(Q),b]});let t=e;return t})();var we=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=v({type:e}),e.\u0275inj=f({imports:[M,B,_,w,q,G]});let t=e;return t})();export{we as AuthModule};
